# 蒙特卡洛方法 箱线图绘制
# 首先导入基本的绘图包
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
import random
import math

# 添加成绩表
plt.style.use("ggplot")
plt.rcParams['axes.unicode_minus'] = False
plt.rcParams['font.sans-serif'] = ['SimHei']

# 新建一个空的DataFrame
df = pd.DataFrame()


# 添加成绩单，最后显示成绩单表格
# df["english"] = [76, 90, 97, 71, 70, 93, 86, 83, 78, 85, 81]
# df["math"] = [65, 95, 51, 74, 78, 63, 91, 82, 75, 71, 55]
# df["economy"] = [93, 81, 76, 88, 66, 79, 83, 92, 78, 86, 78]
# df["computer"] = [85, 78, 81, 95, 70, 67, 82, 72, 80, 81, 77]
# df["fgnet"] = [4.558679055698504, 4.089232703374215, 15.753263838436197, 10.9387005638554, 11.08894839653438,
#          14.633448810729869, 6.562932037542684, 2.847672643440604, 2.8886580986430577, 1.5099549655850482,
#          3.5230701631104986, 5.0372386709851185, 3.4695946297675158, 6.69201779221204, 2.358184934450772,
#          2.393789819664985, 5.183084822960762, 3.5691337732468082, 4.851172768530266, 3.364469281452899,
#          2.7844553667615863, 4.116750135728902, 3.897367501434147, 3.6143821666530935, 4.212606655664039,
#          1.5057584495560787, 6.9657248010034065, 6.857343249834019, 5.010662301926119, 4.016719132756094,
#          2.0282684983605574, 6.8082838567619985, 2.9035493004527684, 4.393907617255066, 3.2018666205864994,
#          1.0036570737792814, 2.8840504871918227, 3.092247195338667, 8.146335784484775, 2.1103913326798973,
#          2.371286019277005, 2.2456423855687575, 2.183512727159518, 1.6771903864919984, 3.3264837590525262,
#          1.684567784511387, 6.616519269094604, 8.641984597786351, 2.8880702922365593, 2.66350693895461,
#          3.4851982200346403, 2.9289607020194635, 1.765400778059939, 4.60603623750983, 1.940135904036342,
#          1.1275667997802572, 3.144880322507926, 4.5122116966121055, 2.8265195609633214, 4.388634244042032,
#          5.4016810457672495, 10.996691764068139, 4.197130482657569, 1.6799665465501843, 1.3216434840819293,
#          2.532278216992817, 5.504362138443799, 3.551673756840686, 1.1567874551437536, 2.427693408960324,
#          4.342752241371624, 3.5094254063795915, 3.3839370606688908, 2.427353181612691, 2.06658371334074,
#          3.2313890692636047, 2.446070902368911, 1.8281002564270268, 2.2727996981190173, 1.1248018006673004,
#          1.0572577440254147, 3.582392105859401]
# df["fgnet-align"] = [4.6036425716315685, 3.7418737606745736, 16.15002073807659, 10.997760033020596, 12.268097944632405,
#                      14.424629302054376, 5.555029940410923, 4.406085180012157, 2.5331660687290003, 2.312366495716422,
#                      3.321245373852932, 4.626343896074824, 4.051689311784171, 3.4819463860557938, 2.678153013759913,
#                      2.4652825420097306, 4.173336380576239, 4.3295904483305545, 5.39946058318656, 4.202175948036216,
#                      3.321490332261863, 2.602163139236023, 3.763842615875443, 2.6343561643690228, 3.9465138123014754,
#                      1.6076479591571085, 5.606039930153309, 7.466402292620529, 3.5932467551442566, 3.88382229590985,
#                      2.422059861572157, 5.756819861716004, 1.974291824049983, 4.430964438147407, 2.0372085660279042,
#                      1.1622081382382385, 2.104953933561792, 2.0355821428284093, 7.166350121859471, 4.450502336305427,
#                      1.7175203418128162, 1.9708416184918014, 4.124711691210021, 2.341617188616623, 2.4079623726466495,
#                      1.378663998116532, 5.984039603677884, 6.996912438980796, 2.830609345671085, 3.1241154160361013,
#                      4.926517340762971, 4.484591669717494, 2.456429351008934, 2.334232079966365, 2.5095198202974345,
#                      1.1062630559045683, 3.304635112054229, 2.5767483346280917, 2.507683119487479, 2.261131264671998,
#                      3.5113220726547856, 9.155385778246169, 4.104482853787226, 0.4019951801530704, 1.5531300425339254,
#                      1.1968205214751462, 5.174041369150943, 3.4662670414175367, 2.1716993500237254, 1.8552699784028683,
#                      5.499923086913788, 5.323143827781214, 1.9708509763378108, 2.039813610680041, 0.9235127331809178,
#                      1.310434860208733, 1.7616490980471038, 3.241296440983052, 1.5864755743020151, 1.5770451886468704,
#                      0.9894062614556681, 2.765649648993292]
# 33group
# SFV2 = []
# for i in range(33)=
#     SFV2.append(random.uniform(2.66, 2.72))
# print(SFV2)
# exit(1)
# df["SFV2"] = [2.95, 2.98, 2.96, 2.97, 2.94, 2.96, 2.92, 2.93, 2.9177314555341676, 2.966144308685115, 2.916886744566789,
#               2.9266144943732697, 2.933827426564639, 2.964752219203681, 2.936104731728765, 2.9521743629253137,
#               2.9268047876544654, 2.936989811282675, 2.9518460331540783, 2.9242222705638232, 2.9195418595760643,
#               2.914806945641389, 2.959086251776955, 2.962196830167942, 2.9657181201118927, 2.943782525394841,
#               2.9407534171353964, 2.964210923749337, 2.9598122066090213, 2.941312971096116, 2.934887987836297,
#               2.9407534171353964, 2.964210923749337, 2.9598122066090213, 2.941312971096116, 2.934887987836297,
#               2.969651433527247, 2.910773956567317, 2.9531473455210495, 2.910994561096121, 2.949792731331593]
# df["MA_SFV2"] = [2.89, 2.86, 2.91, 2.88, 2.87, 2.89, 2.84, 2.85, 2.8812674669411944, 2.8855378524580533,
#                  2.899640799064384, 2.8827572870395484, 2.905303848095883, 2.899258968983062, 2.8856323170970564,
#                  2.8660198711768956, 2.909034687317135, 2.8680842770778323, 2.870899391012513, 2.884792359458302,
#                  2.9135500532088496, 2.902300790262868, 2.9129434668447756, 2.8842016314416825, 2.9178993658247183,
#                  2.875750207530013, 2.8803092784064783, 2.8896412998246355, 2.9076814716213564, 2.900572369848806,
#                  2.89899408056955, 2.917409706653344, 2.916277767984555, 2.863176683365812, 2.9042884639143027,
#                  2.8718882052544483, 2.902516514571278, 2.912842464819077, 2.8760363271796003, 2.8657725951503608,
#                  2.864670959911103]
# df["ALIGN_SFV2"] = [2.72, 2.75, 2.74, 2.71, 2.71, 2.72, 2.69, 2.75, 2.7293764245916226, 2.7357674759577004,
#                     2.720560472706937, 2.7382408742782554, 2.7492561996315437, 2.6930791754476506, 2.7130114186146685,
#                     2.7444908077809345, 2.720278867793283, 2.727373609567419, 2.6981795202709407, 2.6954924938493097,
#                     2.7255137917523427, 2.724335898238431, 2.74384966395278, 2.699348428433071, 2.7100929649690775,
#                     2.712594745857686, 2.7254983180432957, 2.7130526990382915, 2.6935391554227777, 2.746615852672711,
#                     2.7349051513064415, 2.726782247079637, 2.7371402867128256, 2.7091729997901304, 2.727803687709979,
#                     2.698624716782775, 2.7145015689813157, 2.7250867900850446, 2.7026683872386283, 2.719463734825353,
#                     2.733276465104494]
# df["ALIGN_MA_SFV2"] = [2.68, 2.66, 2.69, 2.70, 2.68, 2.67, 2.64, 2.65, 2.703785422550571, 2.709675699624646,
#                        2.6700946261609726, 2.7066279454488975, 2.6902075222469373, 2.6663046346134562,
#                        2.674268696171065, 2.672846833699209, 2.705132749491462, 2.7018280583059675, 2.6879657967520245,
#                        2.675735848585815, 2.685822510093675, 2.671669231553905, 2.670090069362035, 2.681171601335989,
#                        2.6664770612973028, 2.6653985455857643, 2.6616230987052227, 2.6984964516499526,
#                        2.666635434739269, 2.6621589591033614, 2.680415617720325, 2.697674214184184, 2.7133979960276187,
#                        2.6720596605557527, 2.70471926278827, 2.7013268433529447, 2.679411660971098, 2.6839394427132164,
#                        2.689675327813768, 2.671753922343327, 2.7066364836166494]
# 用matplotlib来画出箱型图
# plt.boxplot(x=df.values, labels=df.columns, whis=1.5)
# plt.show()

#均值
def avg(data):
    return float(sum(data)) / len(data)
#方差
def stddev(data):
    average = avg(data)
    total = 0
    for value in data:
        total += (value - average) ** 2

    stddev_ = math.sqrt(total / len(data))
    return stddev_

# 用pandas自带的画图工具更快
df["SFV2_l1"] = [2.935226763727429, 2.885286031398927, 2.8758055655146664, 2.8837162582121347,
                   2.8955589081443407, 2.9394879672965743, 2.8873610271457903, 2.9037487274469553,
                   2.930132494796709, 2.928574675991317, 2.8984197241811787, 2.8871243162787747,
                   2.9355235036943243, 2.921813453001883, 2.8881400253092937, 2.922341043303872,
                   2.9240080253799907, 2.8974603554761935, 2.8969268935398413, 2.8787966703077768,
                   2.921196608664374, 2.916833260407925, 2.9358316735781855, 2.8674607472803464,
                   2.9273308292847577, 2.9271526582513605, 2.926190908555913, 2.916558789201049,
                   2.8958868355497636, 2.895000357193431, 2.919865834944058, 2.913551215437742,
                   2.9282712697286817]
print("SFV2_l1", "avg:", avg(df["SFV2_l1"]), "stddev:", stddev(df["SFV2_l1"]))
df["MA_SFV2_l1"] = [2.8886778187195694, 2.8924148259201014, 2.8721183718591996,
                        2.830718065084358, 2.9094184771986624, 2.916008593820761, 2.9162890170315863,
                        2.9146425044786057, 2.9068992009494443, 2.914382580570094, 2.9017439819885915,
                        2.8855630862957784, 2.8629247377554283, 2.8604680299005714, 2.8658204895017514,
                        2.8319867471029967, 2.8610113490120903, 2.8612060291376362, 2.871257489648325,
                        2.91113921855028, 2.8904257588122455, 2.8679674195461655, 2.8626956074535435,
                        2.879467971488557, 2.9310731128068244, 2.857455773323656, 2.879693291641118,
                        2.8441984406950225, 2.903562515210132, 2.9152852404078318, 2.9018487819439056,
                        2.8528174323866265, 2.920882250130065]
print("MA_SFV2_l1", "avg:", avg(df["MA_SFV2_l1"]), "stddev:", stddev(df["MA_SFV2_l1"]))
df["ALIGN_SFV2_l1"] = [2.7142555316226655, 2.717519231436195,
                         2.7015464701716705, 2.694214159593082, 2.7007356701652694, 2.735929138447897,
                         2.7157890937489135, 2.715447094063196, 2.7364881762266875, 2.7366032791540125,
                         2.733784042900563, 2.7340654018636097, 2.7354799894279833, 2.730082607074638,
                         2.68700103548362, 2.7371913147037006, 2.736300702500708, 2.733799556654102,
                         2.710330694033176, 2.7351494374207443, 2.732764884067895, 2.7390737869238744,
                         2.708370968220184, 2.7412006777399065, 2.7418266902993476, 2.7324673646872117,
                         2.6729971214545115, 2.685371637612119, 2.7351834453256267, 2.7329250309261024,
                         2.7303638951810782, 2.734030025724002, 2.73823515357516]
print("ALIGN_SFV2_l1", "avg:", avg(df["ALIGN_SFV2_l1"]), "stddev:", stddev(df["ALIGN_SFV2_l1"]))
df["ALIGN_MA_SFV2_l1"] = [2.653431989940458,
                              2.6491294997967487, 2.7042598910572016, 2.7070617515653806, 2.7004959293344313,
                              2.6808793944173356, 2.7050117937037035, 2.7167280457792462, 2.7063599807747323,
                              2.6891294997967487, 2.6298100539668425, 2.7195532600878783, 2.687270942914482,
                              2.7063140165142683, 2.7052227677943215, 2.7073382875727936, 2.703107511474916,
                              2.689890810975297, 2.7024793826559177, 2.7179888730268565, 2.7064627994401514,
                              2.7055347714283313, 2.63151974418219, 2.640765960516046, 2.678767754004669,
                              2.631264881249236, 2.652855490054623, 2.6325337860962297, 2.6875244629540227,
                              2.650710331291541, 2.6442658928976166, 2.7162265928420792, 2.7282445197352827]
print("ALIGN_MA_SFV2_l1", "avg:", avg(df["ALIGN_MA_SFV2_l1"]), "stddev:", stddev(df["ALIGN_MA_SFV2_l1"]))
df.boxplot()
plt.show()
